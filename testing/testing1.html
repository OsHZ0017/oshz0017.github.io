<!DOCTYPE html>
<html lang="en">
  <body>
    <main>
      <header>
        <button id="text" class="recalculate" onclick="gradePass()">
          Recalculate points
        </button>
        <p id="totalECs"></p>
      </header>
      <table>
        <tr>
          <td class="grade">4.5</td>
          <td class="ec">4</td>
        </tr>
        <tr>
        <td class="grade">7</td>
        <td class="ec">2</td>
      </tr>
      <tr>
        <td class="grade">7</td>
        <td class="ec">5</td>
      </tr>        <tr>
        <td class="grade">7</td>
        <td class="ec">1</td>
      </tr>        <tr>
        <td class="grade">7</td>
        <td class="ec">2.7</td>
      </tr>
      </table>
    </main>
    <script>

      /*function to determine wether a grade is passing*/
      function gradePass() {

        /*minimum grade to pass*/
        let treshold = 5.4;

        /* says gradeList means to select all variables under class 'grade'*/
        let gradeList = document.querySelectorAll(".grade"); // returns NodeList
        let gradeArray = [...gradeList]; // converts NodeList to Array

        /* says ecList means to select all variables under class 'ec'*/
        let ecList = document.querySelectorAll(".ec");
        let ecArray = [...ecList];

        /*Defines standard total EC as 0 (which it is)*/
        let totalECs = 0;

        /*takes each single element within the grade array*/
        gradeArray.forEach((gradeElement, index) => {

          /*takes the first value it finds within the gradelist, then the next*/
          let gradeValue = parseFloat(gradeElement.innerText);

          /*compares each gotten grade to the treshold number*/
            if (gradeValue > treshold) {
              /* takes the ec value in the same row and adds it to the totalec value */
              let ecValue = parseFloat(ecArray[index].innerText);
              totalECs += ecValue;
            }
            
          
        });

        /*displays the calculated total ec value within the defined <p> of totalECs*/
        document.getElementById("totalECs").innerHTML = `${totalECs}`;
      }
    </script>
  </body>
</html>

<!--In order to build this script, I used ChatGPT to ask some very direct questions and explain what certain commands it returned me with meant.-->
<!--I do not like using ChatGPT and hope Very Much that I can learn to construct these sorta things myself in the future-->
<!--But I suppose understanding what someone/something else wrote is a decent first step..-->